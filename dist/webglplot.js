function t(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i}var i=function(){this.scaleX=1,this.scaleY=1,this.offsetX=0,this.offsetY=0,this.loop=!1,this._vbuffer=0,this._prog=0,this._coord=0,this.visible=!0,this.intensity=1},e=function(i){function e(t,e){var o;return(o=i.call(this)||this).webglNumPoints=e,o.numPoints=e,o.color=t,o.xy=new Float32Array(2*o.webglNumPoints),o}t(e,i);var o=e.prototype;return o.setX=function(t,i){this.xy[2*t]=i},o.setY=function(t,i){this.xy[2*t+1]=i},o.getX=function(t){return this.xy[2*t]},o.getY=function(t){return this.xy[2*t+1]},o.lineSpaceX=function(t,i){for(var e=0;e<this.numPoints;e++)this.setX(e,t+i*e)},o.constY=function(t){for(var i=0;i<this.numPoints;i++)this.setY(i,t)},o.shiftAdd=function(t){for(var i=t.length,e=0;e<this.numPoints-i;e++)this.setY(e,this.getY(e+i));for(var o=0;o<i;o++)this.setY(o+this.numPoints-i,t[o])},e}(i),o=function(i){function e(t,e){var o;return(o=i.call(this)||this).webglNumPoints=2*e,o.numPoints=e,o.color=t,o.xy=new Float32Array(2*o.webglNumPoints),o}t(e,i);var o=e.prototype;return o.setY=function(t,i){this.xy[4*t+1]=i,this.xy[4*t+3]=i},o.getX=function(t){return this.xy[4*t]},o.getY=function(t){return this.xy[4*t+1]},o.lineSpaceX=function(t,i){for(var e=0;e<this.numPoints;e++)this.xy[4*e]=t+e*i,this.xy[4*e+2]=t+(e*i+i)},o.constY=function(t){for(var i=0;i<this.numPoints;i++)this.setY(i,t)},o.shiftAdd=function(t){for(var i=t.length,e=0;e<this.numPoints-i;e++)this.setY(e,this.getY(e+i));for(var o=0;o<i;o++)this.setY(o+this.numPoints-i,t[o])},e}(i),r=function(i){function e(t,e){var o;return(o=i.call(this)||this).webglNumPoints=e,o.numPoints=e,o.color=t,o.intenisty=1,o.xy=new Float32Array(2*o.webglNumPoints),o._vbuffer=0,o._prog=0,o._coord=0,o.visible=!0,o.offsetTheta=0,o}t(e,i);var o=e.prototype;return o.setRtheta=function(t,i,e){var o=e*Math.cos(2*Math.PI*(i+this.offsetTheta)/360),r=e*Math.sin(2*Math.PI*(i+this.offsetTheta)/360);this.setX(t,o),this.setY(t,r)},o.getTheta=function(t){return 0},o.getR=function(t){return Math.sqrt(Math.pow(this.getX(t),2)+Math.pow(this.getY(t),2))},o.setX=function(t,i){this.xy[2*t]=i},o.setY=function(t,i){this.xy[2*t+1]=i},o.getX=function(t){return this.xy[2*t]},o.getY=function(t){return this.xy[2*t+1]},e}(i),n=function(){function t(t){var i=window.devicePixelRatio||1;t.width=t.clientWidth*i,t.height=t.clientHeight*i;var e=t.getContext("webgl",{antialias:!0,transparent:!1});this.lines=[],this.webgl=e,this.gScaleX=1,this.gScaleY=1,this.gXYratio=1,this.gOffsetX=0,this.gOffsetY=0,e.enable(e.DEPTH_TEST),e.clear(e.COLOR_BUFFER_BIT||e.DEPTH_BUFFER_BIT),e.viewport(0,0,t.width,t.height)}var i=t.prototype;return i.update=function(){var t=this,i=this.webgl;this.lines.forEach(function(e){if(e.visible){i.useProgram(e._prog);var o=i.getUniformLocation(e._prog,"uscale");i.uniformMatrix2fv(o,!1,new Float32Array([e.scaleX*t.gScaleX,0,0,e.scaleY*t.gScaleY*t.gXYratio]));var r=i.getUniformLocation(e._prog,"uoffset");i.uniform2fv(r,new Float32Array([e.offsetX+t.gOffsetX,e.offsetY+t.gOffsetY]));var n=i.getUniformLocation(e._prog,"uColor");i.uniform4fv(n,[e.color.r,e.color.g,e.color.b,e.color.a]),i.bufferData(i.ARRAY_BUFFER,e.xy,i.STREAM_DRAW),i.drawArrays(e.loop?i.LINE_LOOP:i.LINE_STRIP,0,e.webglNumPoints)}})},i.clear=function(){this.webgl.clear(this.webgl.COLOR_BUFFER_BIT||this.webgl.DEPTH_BUFFER_BIT)},i.addLine=function(t){t._vbuffer=this.webgl.createBuffer(),this.webgl.bindBuffer(this.webgl.ARRAY_BUFFER,t._vbuffer),this.webgl.bufferData(this.webgl.ARRAY_BUFFER,t.xy,this.webgl.STREAM_DRAW);var i=this.webgl.createShader(this.webgl.VERTEX_SHADER);this.webgl.shaderSource(i,"\n      attribute vec2 coordinates;\n      uniform mat2 uscale;\n      uniform vec2 uoffset;\n\n      void main(void) {\n         gl_Position = vec4(uscale*coordinates + uoffset, 0.0, 1.0);\n      }"),this.webgl.compileShader(i);var e=this.webgl.createShader(this.webgl.FRAGMENT_SHADER);this.webgl.shaderSource(e,"\n         precision mediump float;\n         uniform highp vec4 uColor;\n         void main(void) {\n            gl_FragColor =  uColor;\n         }"),this.webgl.compileShader(e),t._prog=this.webgl.createProgram(),this.webgl.attachShader(t._prog,i),this.webgl.attachShader(t._prog,e),this.webgl.linkProgram(t._prog),this.webgl.bindBuffer(this.webgl.ARRAY_BUFFER,t._vbuffer),t._coord=this.webgl.getAttribLocation(t._prog,"coordinates"),this.webgl.vertexAttribPointer(t._coord,2,this.webgl.FLOAT,!1,0,0),this.webgl.enableVertexAttribArray(t._coord),this.lines.push(t)},i.removeLine=function(t){},i.viewport=function(t,i,e,o){this.webgl.viewport(t,i,e,o)},t}();exports.ColorRGBA=function(t,i,e,o){this.r=t,this.g=i,this.b=e,this.a=o},exports.WebglLine=e,exports.WebglPolar=r,exports.WebglStep=o,exports.default=n;
//# sourceMappingURL=webglplot.js.map
